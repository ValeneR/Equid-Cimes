{% extends 'base.html.twig' %}

{% block title %}Espace membres{% endblock %}

{% block body %}
    <h1>Espace membres</h1>
    {% if app.user %}
        <h6>Bienvenue cher compagnon!</h6>

        {% for article in articles %}
            <div div="articleBloc">
                <h3>{{ article.title }}</h3>
                <p class="text-center">Catégorie: {{ article.category.name }}</p>
                <div class="btnModifs">
                    <a href="{{ path("article_show", { id: article.id }) }}"><button class="buttonMembre">Voir</button></a>
                    <a href="{{ path("article_edit", { id: article.id }) }}"><button class="buttonMembre">Modifier</button></a>
                    {% if is_granted("ROLE_ADMIN") %}
                        <a href="{{ path("article_delete", { id: article.id }) }}"><button class="buttonMembre">Supprimer</button></a>
                    {% endif %}
                </div>
            </div>
        {% else %}
            Aucun article trouvé
        {% endfor %}

        <div class="newArticle">
            <a href="{{ path("article_new")}}"><button class="buttonNew">Créer un nouvel article</button></a>
        </div>

    {% else %}
        <h4 class="text-center">Vous devez être connectés pour accéder à cet espace!</h4>
    {% endif %}
{% endblock %}